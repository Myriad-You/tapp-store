<!-- Music Player Tapp v3.0 - Apple Music Style (No Scroll) -->

<!-- Google Fonts - Noto Sans CJK -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&family=Noto+Sans+TC:wght@300;400;500;700&family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">

<!-- 动态背景 -->
<div id="tapp-background">
  <div class="bg-artwork" id="bg-artwork"></div>
  <div class="bg-overlay"></div>
</div>

<!-- 主内容 - 上面6/7内容区 + 底部1/7控制区 -->
<div id="tapp-content">
  
  <!-- 内容区 - 左2/5封面信息 + 右3/5歌词列表 -->
  <div class="content-area">
    
    <!-- 左侧：封面 + 歌曲信息 -->
    <div class="player-left">
      
      <!-- 封面 -->
      <div class="artwork-container">
        <div class="artwork-wrapper" id="artwork-wrapper">
          <img id="album-cover" class="artwork-image" src="" alt="" />
          <div id="cover-placeholder" class="artwork-placeholder">
            <svg viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"/>
            </svg>
          </div>
        </div>
      </div>
      
      <!-- 歌曲信息 -->
      <div class="track-info">
        <div class="track-title-row">
          <h1 id="song-name" class="track-title">未在播放</h1>
          <span id="vip-badge" class="badge-vip" style="display:none;">VIP</span>
        </div>
        <p id="song-artist" class="track-artist">-</p>
      </div>
      
    </div>
    
    <!-- 右侧：歌词和列表 -->
    <div class="player-right" id="player-right">
      <!-- 移动端关闭按钮 -->
      <button class="mobile-close-btn" id="mobile-close-btn" aria-label="关闭">
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
        </svg>
      </button>
      <!-- 移动端面板标题 -->
      <span class="mobile-panel-title" id="mobile-panel-title">歌词</span>
      
      <!-- 歌词面板 -->
      <section class="panel panel-lyrics active" id="panel-lyrics">
        <div class="lyrics-scroll" id="lyrics-container">
          <div class="lyrics-empty" id="lyrics-empty">暂无歌词</div>
        </div>
      </section>
      
      <!-- 播放列表面板 -->
      <section class="panel panel-playlist" id="panel-playlist">
        <div class="playlist-header">
          <div class="search-box">
            <svg class="search-icon" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z"/>
            </svg>
            <input type="text" id="playlist-search" class="search-input" placeholder="搜索" />
            <button id="clear-search" class="search-clear" aria-label="清除">
              <svg viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"/>
              </svg>
            </button>
          </div>
        </div>
        <div class="playlist-scroll" id="playlist-container">
          <div class="playlist-empty" id="playlist-empty">播放列表为空</div>
        </div>
      </section>
    </div>
    
  </div>
  
  <!-- 底部控制区 - 1/7高度 -->
  <div class="controls-bar">
    
    <!-- 主控制按钮组 -->
    <div class="controls-group">
      <button id="prev-btn" class="control-btn control-main" aria-label="上一首">
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path d="M6 6h2v12H6zm3.5 6l8.5 6V6z"/>
        </svg>
      </button>
      
      <button id="play-btn" class="control-btn control-play" aria-label="播放">
        <svg class="icon-play" viewBox="0 0 24 24" fill="currentColor">
          <path d="M8 5v14l11-7z"/>
        </svg>
        <svg class="icon-pause" viewBox="0 0 24 24" fill="currentColor" style="display:none;">
          <path d="M6 4h4v16H6V4zm8 0h4v16h-4V4z"/>
        </svg>
      </button>
      
      <button id="next-btn" class="control-btn control-main" aria-label="下一首">
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path d="M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"/>
        </svg>
      </button>
    </div>
    
    <!-- 进度条 -->
    <div class="progress-section">
      <span id="current-time" class="time-display">0:00</span>
      <div class="progress-track">
        <input type="range" id="progress-bar" class="progress-slider" min="0" max="100" value="0" aria-label="播放进度" />
        <div class="progress-fill" id="progress-fill"></div>
      </div>
      <span id="remaining-time" class="time-display time-remaining">-0:00</span>
    </div>
    
    <!-- 音量控制 -->
    <div class="volume-section">
      <div class="volume-icon" aria-hidden="true">
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>
        </svg>
      </div>
      <div class="volume-track">
        <input type="range" id="volume-bar" class="volume-slider" min="0" max="1" step="0.01" value="0.7" aria-label="音量" />
        <div class="volume-fill" id="volume-fill"></div>
      </div>
    </div>
    
    <!-- 右侧控制组：歌词、播放列表、播放模式 -->
    <div class="right-controls">
      <button class="tab-btn active" data-tab="lyrics" id="tab-lyrics" aria-label="歌词">
        <svg viewBox="0 0 20 20" fill="currentColor">
          <path d="M18 13V5a2 2 0 00-2-2H4a2 2 0 00-2 2v8a2 2 0 002 2h3l3 3 3-3h3a2 2 0 002-2zM5 7a1 1 0 011-1h8a1 1 0 110 2H6a1 1 0 01-1-1zm1 3a1 1 0 100 2h3a1 1 0 100-2H6z" />
        </svg>
      </button>
      <button class="tab-btn" data-tab="playlist" id="tab-playlist" aria-label="播放列表">
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path d="M4 10h12v2H4zm0-4h12v2H4zm0 8h8v2H4zm10 0v6l5-3z"/>
        </svg>
        <span class="tab-badge" id="playlist-badge">0</span>
      </button>
      <button id="mode-btn" class="control-btn control-secondary control-mode" aria-label="播放模式">
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path d="M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z"/>
        </svg>
      </button>
    </div>
    
  </div>
  
</div>
