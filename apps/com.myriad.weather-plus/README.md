# Weather Plus 天气动态

实时天气信息与动态内容展示 Tapp，支持多种尺寸小组件。

## 功能特性

- 🌤️ **实时天气** - 自动获取当前位置的天气信息
- 📍 **智能定位** - 多种定位方案，自动选择最佳方式
- 🌡️ **详细数据** - 温度、体感温度、湿度、风速
- 💨 **空气质量** - AQI 指数及健康提示
- 📅 **多日预报** - 未来 4 天天气预报
- 🎨 **动态主题** - 根据天气自动调整配色
- ⚙️ **自定义设置** - 温度单位、刷新间隔等

## 小组件

### 2x2 紧凑天气
显示当前温度、天气状态和基本信息，适合快速查看。

### 4x2 详细天气
左侧显示当前天气详情，右侧显示未来 3 天预报。

### 4x4 完整预报
完整的天气信息面板，包含详细数据卡片和未来 4 天预报。

## 数据来源

- **天气数据**: [Open-Meteo](https://open-meteo.com/) - 免费开放的天气 API
- **空气质量**: [Open-Meteo Air Quality](https://open-meteo.com/en/docs/air-quality-api)
- **地理定位**: 后端代理 / ipapi.co / 浏览器 Geolocation
- **反向地理编码**: [Nominatim (OpenStreetMap)](https://nominatim.org/)

## 设置选项

| 设置项 | 说明 | 默认值 |
|--------|------|--------|
| 温度单位 | 摄氏度 / 华氏度 | 摄氏度 |
| 显示空气质量 | 是否显示 AQI | 开启 |
| 刷新间隔 | 自动刷新间隔（分钟） | 30 |
| 启用动画效果 | 天气图标动画 | 开启 |

## 权限说明

- `storage` - 缓存天气数据和位置信息
- `widget:register` - 注册小组件
- `ui:notification` - 显示通知（可选）
- `ui:theme` - 获取主题信息适配暗色模式

## API 声明

本 Tapp 使用声明式 API 调用，所有外部请求在 manifest.json 中声明：

- `getClientGeo` - 通过后端代理获取客户端位置
- `getWeather` - 获取天气数据
- `getAirQuality` - 获取空气质量
- `reverseGeocode` - 反向地理编码
- `getGeoByIP` - IP 定位备用方案

## 缓存策略

- **位置信息**: 缓存 24 小时（位置很少变化）
- **天气数据**: 缓存 30 分钟（天气会变化）

## 版本历史

### v1.0.0
- 初始版本
- 支持 2x2、4x2、4x4 三种小组件尺寸
- 完整独立实现，使用 Tapp SDK API

## 开发者

Myriad Team
