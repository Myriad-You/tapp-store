{
  "id": "com.myriad.weather-plus",
  "name": "å¤©æ°”åŠ¨æ€",
  "version": "1.0.0",
  "description": "å®æ—¶å¤©æ°”ä¿¡æ¯ä¸åŠ¨æ€å†…å®¹å±•ç¤ºï¼Œæ”¯æŒå¤šç§å°ºå¯¸å°ç»„ä»¶ï¼Œè‡ªåŠ¨è·å–ä½ç½®å¹¶æ˜¾ç¤ºå¤©æ°”ã€ç©ºæ°”è´¨é‡å’Œæœªæ¥é¢„æŠ¥",
  "main": "main.js",
  "author": {
    "name": "Myriad Team"
  },
  "permissions": [
    "storage",
    "widget:register",
    "ui:notification",
    "ui:theme"
  ],
  "iconSvg": "<svg viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'><path d='M12 3v2M12 19v2M3 12h2M19 12h2M5.64 5.64l1.41 1.41M16.95 16.95l1.41 1.41M5.64 18.36l1.41-1.41M16.95 7.05l1.41-1.41' stroke='currentColor' stroke-width='2' stroke-linecap='round'/><circle cx='12' cy='12' r='4' fill='currentColor'/></svg>",
  "themeColor": "#3B82F6",
  "hasPage": false,
  "cssMode": "separated",
  "widgetStyles": "widget.css",
  "widgets": [
    {
      "id": "weather-compact",
      "name": "ç´§å‡‘å¤©æ°”",
      "description": "æ˜¾ç¤ºå½“å‰æ¸©åº¦å’Œå¤©æ°”çŠ¶æ€",
      "icon": "ğŸŒ¤ï¸",
      "defaultSize": "2x2",
      "sizes": ["2x2"],
      "minRefreshInterval": 300000,
      "category": "utility",
      "templates": {
        "2x2": "widget-2x2.html"
      }
    },
    {
      "id": "weather-detailed",
      "name": "è¯¦ç»†å¤©æ°”",
      "description": "æ˜¾ç¤ºå¤©æ°”è¯¦æƒ…å’Œæœªæ¥é¢„æŠ¥",
      "icon": "ğŸŒ¦ï¸",
      "defaultSize": "4x2",
      "sizes": ["4x2"],
      "minRefreshInterval": 300000,
      "category": "utility",
      "templates": {
        "4x2": "widget-4x2.html"
      }
    },
    {
      "id": "weather-forecast",
      "name": "å¤©æ°”é¢„æŠ¥",
      "description": "å®Œæ•´å¤©æ°”é¢„æŠ¥é¢æ¿",
      "icon": "ğŸ“Š",
      "defaultSize": "4x4",
      "sizes": ["4x4"],
      "minRefreshInterval": 300000,
      "category": "utility",
      "templates": {
        "4x4": "widget-4x4.html"
      }
    }
  ],
  "settings": [
    {
      "key": "units",
      "label": "æ¸©åº¦å•ä½",
      "type": "select",
      "description": "é€‰æ‹©æ¸©åº¦æ˜¾ç¤ºå•ä½",
      "defaultValue": "celsius",
      "options": [
        { "value": "celsius", "label": "æ‘„æ°åº¦ (Â°C)" },
        { "value": "fahrenheit", "label": "åæ°åº¦ (Â°F)" }
      ]
    },
    {
      "key": "showAqi",
      "label": "æ˜¾ç¤ºç©ºæ°”è´¨é‡",
      "type": "toggle",
      "description": "åœ¨å°ç»„ä»¶ä¸­æ˜¾ç¤ºç©ºæ°”è´¨é‡æŒ‡æ•°",
      "defaultValue": true
    },
    {
      "key": "refreshInterval",
      "label": "åˆ·æ–°é—´éš”ï¼ˆåˆ†é’Ÿï¼‰",
      "type": "number",
      "description": "è‡ªåŠ¨åˆ·æ–°å¤©æ°”æ•°æ®çš„é—´éš”",
      "defaultValue": 30,
      "min": 5,
      "max": 120
    },
    {
      "key": "animationEnabled",
      "label": "å¯ç”¨åŠ¨ç”»æ•ˆæœ",
      "type": "toggle",
      "description": "åœ¨å°ç»„ä»¶ä¸­å¯ç”¨å¤©æ°”åŠ¨ç”»",
      "defaultValue": true
    }
  ],
  "apis": {
    "getClientGeo": {
      "name": "è·å–å®¢æˆ·ç«¯åœ°ç†ä½ç½®",
      "description": "é€šè¿‡å†…ç½® API è·å–å®¢æˆ·ç«¯IPçš„åœ°ç†ä½ç½®ä¿¡æ¯",
      "access": "public",
      "type": "builtin",
      "builtin": "geo",
      "cache_ttl": 86400000,
      "rate_limit": {
        "calls": 10,
        "period": 3600
      }
    },
    "getWeather": {
      "name": "è·å–å¤©æ°”æ•°æ®",
      "description": "ä» Open-Meteo è·å–å½“å‰å¤©æ°”å’Œé¢„æŠ¥",
      "access": "public",
      "type": "http",
      "url": "https://api.open-meteo.com/v1/forecast",
      "method": "GET",
      "params": {
        "latitude": "{{params.lat}}",
        "longitude": "{{params.lon}}",
        "current": "temperature_2m,weather_code,relative_humidity_2m,apparent_temperature,wind_speed_10m",
        "daily": "weather_code,temperature_2m_max,temperature_2m_min",
        "timezone": "auto"
      },
      "cache_ttl": 1800000,
      "rate_limit": {
        "calls": 60,
        "period": 3600
      }
    },
    "getAirQuality": {
      "name": "è·å–ç©ºæ°”è´¨é‡",
      "description": "ä» Open-Meteo è·å–ç©ºæ°”è´¨é‡æŒ‡æ•°",
      "access": "public",
      "type": "http",
      "url": "https://air-quality-api.open-meteo.com/v1/air-quality",
      "method": "GET",
      "params": {
        "latitude": "{{params.lat}}",
        "longitude": "{{params.lon}}",
        "current": "us_aqi"
      },
      "cache_ttl": 1800000,
      "rate_limit": {
        "calls": 60,
        "period": 3600
      }
    },
    "reverseGeocode": {
      "name": "åå‘åœ°ç†ç¼–ç ",
      "description": "å°†ç»çº¬åº¦è½¬æ¢ä¸ºåŸå¸‚åç§°",
      "access": "public",
      "type": "http",
      "url": "https://nominatim.openstreetmap.org/reverse",
      "method": "GET",
      "params": {
        "format": "json",
        "lat": "{{params.lat}}",
        "lon": "{{params.lon}}",
        "zoom": "10",
        "addressdetails": "1"
      },
      "headers": {
        "User-Agent": "Myriad Weather Tapp/1.0"
      },
      "cache_ttl": 86400000,
      "rate_limit": {
        "calls": 10,
        "period": 60
      }
    },
    "getGeoByIP": {
      "name": "IPåœ°ç†å®šä½(å¤‡ç”¨)",
      "description": "é€šè¿‡ ipapi.co è·å–IPåœ°ç†ä½ç½®",
      "access": "public",
      "type": "http",
      "url": "https://ipapi.co/json/",
      "method": "GET",
      "cache_ttl": 86400000,
      "rate_limit": {
        "calls": 30,
        "period": 3600
      }
    }
  }
}
